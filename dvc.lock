schema: '2.0'
stages:
  split:
    cmd: python3 src/data/data_split.py
    deps:
    - path: data/raw/raw.csv
      hash: md5
      md5: 617b56af2992376d5c3e91ad80823898
      size: 333757
    - path: src/data/data_split.py
      hash: md5
      md5: 4b48a6c210c386273084f8064cf870a4
      size: 928
    params:
      params.yaml:
        split:
          test_size: 0.2
          random_state: 42
    outs:
    - path: data/processed/X_test.csv
      hash: md5
      md5: b2af62a7e108b077aec89fa2622996db
      size: 52624
    - path: data/processed/X_train.csv
      hash: md5
      md5: 535251fa6c1a1d098cc7a36e0bd62f38
      size: 209468
    - path: data/processed/y_test.csv
      hash: md5
      md5: a051d29629c8bbb4cfb7e85c7f0315da
      size: 6456
    - path: data/processed/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
  normalize:
    cmd: python3 src/data/normalize.py
    deps:
    - path: data/processed/X_test.csv
      hash: md5
      md5: b2af62a7e108b077aec89fa2622996db
      size: 52624
    - path: data/processed/X_train.csv
      hash: md5
      md5: 535251fa6c1a1d098cc7a36e0bd62f38
      size: 209468
    - path: src/data/normalize.py
      hash: md5
      md5: 13ca1fd1f243a8e0865d88e76af6ac9a
      size: 606
    outs:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 5e079189af6bd091d651a89fafb1c290
      size: 57026
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: c1b80eb7f083888b625dd0369cf381f8
      size: 227497
  gridsearch:
    cmd: python3 src/models/grid_march.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: c1b80eb7f083888b625dd0369cf381f8
      size: 227497
    - path: data/processed/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
    - path: src/models/grid_march.py
      hash: md5
      md5: dca0d5928ca77fa4007a0b71d036b544
      size: 611
    params:
      params.yaml:
        gridsearch:
          n_estimators:
          - 50
          - 100
          - 200
          learning_rate:
          - 0.01
          - 0.1
          - 0.2
          max_depth:
          - 3
          - 5
          - 7
    outs:
    - path: models/best_params.pkl
      hash: md5
      md5: 6aa6d445eb546e7fdbd9b788ca47abc2
      size: 72
  training:
    cmd: python3 src/models/training.py
    deps:
    - path: data/processed/X_train_scaled.csv
      hash: md5
      md5: c1b80eb7f083888b625dd0369cf381f8
      size: 227497
    - path: data/processed/y_train.csv
      hash: md5
      md5: a9cd9d91da89f732843d72548f64ded3
      size: 25951
    - path: models/best_params.pkl
      hash: md5
      md5: 6aa6d445eb546e7fdbd9b788ca47abc2
      size: 72
    - path: src/models/training.py
      hash: md5
      md5: 6a013098f61fc3003490eacf72d1ea60
      size: 444
    outs:
    - path: models/gbr_model.pkl
      hash: md5
      md5: 9a92cf4c8b56c3096f63e3dde76728cd
      size: 832712
  evaluate:
    cmd: python3 src/models/evaluate.py
    deps:
    - path: data/processed/X_test_scaled.csv
      hash: md5
      md5: 5e079189af6bd091d651a89fafb1c290
      size: 57026
    - path: data/processed/y_test.csv
      hash: md5
      md5: a051d29629c8bbb4cfb7e85c7f0315da
      size: 6456
    - path: models/gbr_model.pkl
      hash: md5
      md5: 9a92cf4c8b56c3096f63e3dde76728cd
      size: 832712
    - path: src/models/evaluate.py
      hash: md5
      md5: 811e7173a7f75481d71987a66bc4b691
      size: 552
    outs:
    - path: data/prediction.csv
      hash: md5
      md5: 7365aa8f879aff7f8521d9d85fdbeb64
      size: 6775
    - path: metrics/scores.json
      hash: md5
      md5: 291c192f46a0b03396a555ddc606d2af
      size: 53
